{"version":3,"sources":["webpack:///./src/views/Chefs.vue?e986","webpack:///src/views/Chefs.vue","webpack:///./src/views/Chefs.vue?1b56","webpack:///./src/views/Chefs.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","_s","app","shopActive","scopedSlots","_u","key","fn","ref","on","_g","adios","changeTheme","theme","_l","order","i","staticClass","_table","number","new","menu","plate","_f","menus","cantidad","$event","setDone","staticRenderFns","name","computed","data","mounted","window","Notification","permission","requestPermission","console","log","status","io","body","vibrate","lang","getOrders","getMenus","methods","setTheme","$router","push","filters","nameMenu","value","orderByUpdated","component","VBtn","VCard","VCardActions","VCardTitle","VChip","VContainer","VFlex","VIcon","VLayout","VList","VListTile","VListTileTitle","VMenu","VSpacer","VToolbar","VToolbarTitle"],"mappings":"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","file":"js/Chefs.d447d669.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"Chefs\"}},[_c('v-toolbar',{attrs:{\"color\":\"primary\",\"dark\":\"\"}},[_c('v-toolbar-title',[_vm._v(\"\\n      \"+_vm._s(_vm.app)+\"\\n      \"),_c('span',[_vm._v(\"(\"+_vm._s(_vm.shopActive)+\")\")])]),_c('v-spacer'),_c('v-menu',{attrs:{\"bottom\":\"\",\"left\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"dark\":\"\",\"icon\":\"\"}},on),[_c('v-icon',[_vm._v(\"more_vert\")])],1)]}}])},[_c('v-list',[_c('v-list-tile',{on:{\"click\":_vm.adios}},[_c('v-list-tile-title',[_vm._v(\"Cerrar sesión\")])],1),_c('v-list-tile',{on:{\"click\":_vm.changeTheme}},[_c('v-list-tile-title',[_vm._v(\"Tema: \"+_vm._s(_vm.theme==='false'?'Negro':'Blanco'))])],1)],1)],1)],1),_c('v-container',{attrs:{\"fluid\":\"\",\"grid-list-lg\":\"\"}},_vm._l((_vm.orders),function(order,i){return _c('v-card',{key:i,staticClass:\"mb-2 elevation-5\",attrs:{\"mb-2\":\"\"}},[_c('v-card-title',[_c('span',[_vm._v(\"Mesa. \"+_vm._s(order.order._table.number))]),_c('v-spacer'),_c('v-chip',{attrs:{\"color\":order.new===true?'orange':'indigo',\"text-color\":\"white\"}},[_vm._v(\"\\n          \"+_vm._s(order.new===true?'Nuevo':'Agregar a mesa')+\"\\n          \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(_vm._s(order.new===true?'star':'add'))])],1)],1),_c('v-container',{attrs:{\"fluid\":\"\",\"grid-list-lg\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((order.order.menu),function(menu){return _c('v-flex',{key:menu.plate,attrs:{\"text-xs-center\":\"\",\"xs12\":\"\",\"sm6\":\"\"}},[_c('h3',[_vm._v(_vm._s(_vm._f(\"nameMenu\")(menu.plate,_vm.menus))+\"   |    \"+_vm._s(menu.cantidad))])])}),1)],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){return _vm.setDone(order.order)}}},[_vm._v(\"Listo\")])],1)],1)}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"Chefs\">\r\n    <v-toolbar color=\"primary\" dark>\r\n      <v-toolbar-title>\r\n        {{app}}\r\n        <span>({{shopActive}})</span>\r\n      </v-toolbar-title>\r\n      <v-spacer></v-spacer>\r\n      <v-menu bottom left>\r\n        <template v-slot:activator=\"{ on }\">\r\n          <v-btn dark icon v-on=\"on\">\r\n            <v-icon>more_vert</v-icon>\r\n          </v-btn>\r\n        </template>\r\n\r\n        <v-list>\r\n          <v-list-tile @click=\"adios\">\r\n            <v-list-tile-title>Cerrar sesión</v-list-tile-title>\r\n          </v-list-tile>\r\n          <v-list-tile @click=\"changeTheme\">\r\n            <v-list-tile-title>Tema: {{theme==='false'?'Negro':'Blanco'}}</v-list-tile-title>\r\n          </v-list-tile>\r\n        </v-list>\r\n      </v-menu>\r\n    </v-toolbar>\r\n    <v-container fluid grid-list-lg>\r\n      <v-card v-for=\"(order,i) in orders\" mb-2 class=\"mb-2 elevation-5\" :key=\"i\">\r\n        <v-card-title>\r\n          <span>Mesa. {{ order.order._table.number }}</span>\r\n          <v-spacer></v-spacer>\r\n          <v-chip :color=\"order.new===true?'orange':'indigo'\" text-color=\"white\">\r\n            {{order.new===true?'Nuevo':'Agregar a mesa'}}\r\n            <v-icon right>{{order.new===true?'star':'add'}}</v-icon>\r\n          </v-chip>\r\n        </v-card-title>\r\n        <v-container fluid grid-list-lg>\r\n          <v-layout row wrap>\r\n            <v-flex text-xs-center xs12 sm6 v-for=\"menu in order.order.menu\" :key=\"menu.plate\">\r\n              <h3>{{menu.plate | nameMenu(menus)}} &nbsp;&nbsp;| &nbsp;&nbsp; {{menu.cantidad}}</h3>\r\n            </v-flex>\r\n          </v-layout>\r\n        </v-container>\r\n        <v-card-actions>\r\n          <v-btn flat @click=\"setDone(order.order)\">Listo</v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-container>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapState, mapActions, mapMutations, mapGetters } from \"vuex\";\r\nimport * as io from \"socket.io-client\";\r\nimport { urlServer, App, sendNotification } from \"@/Helpers/Globales\";\r\nimport { getAnyUser, logout } from \"@/Helpers/TokenValid\";\r\nexport default {\r\n  name: \"Chefs\",\r\n  computed: {\r\n    ...mapGetters(\"orders\", {\r\n      orders: \"getListComplete\"\r\n    }),\r\n    ...mapState([\"theme\"]),\r\n    ...mapState(\"menus\", [\"menus\"])\r\n  },\r\n  data: () => ({\r\n    io: io(urlServer),\r\n    app: App,\r\n    shopActive: getAnyUser(\"_shop.name\"),\r\n    getAnyUser: getAnyUser\r\n  }),\r\n  mounted() {\r\n    if (window.Notification && Notification.permission !== \"denied\") {\r\n      Notification.requestPermission(status => {\r\n        console.log(status);\r\n      });\r\n    }\r\n    this.io.on(`menus/${this.getAnyUser(\"_shop._id\")}/add`, this.addM);\r\n    this.io.on(`menus/${this.getAnyUser(\"_shop._id\")}/update`, this.updateM);\r\n    this.io.on(`menus/delete`, this.deleteM);\r\n    this.io.on(`orders/${this.getAnyUser(\"_shop._id\")}/add`, data => {\r\n      this.addO(data);\r\n\r\n      sendNotification(\"Nueva orden\", {\r\n        body: `Nueva orden para la mesa ${data._table.number}`,\r\n        vibrate: [100, 50, 100],\r\n        lang: \"es\"\r\n      });\r\n    });\r\n    this.io.on(`orders/${this.getAnyUser(\"_shop._id\")}/update`, data => {\r\n      if (data.status === \"Terminada\") {\r\n        this.deleteO(data);\r\n      } else {\r\n        this.updateO(data);\r\n        sendNotification(\"Nueva orden\", {\r\n          body: `Agregar a la mesa ${data._table.number}`,\r\n          vibrate: [100, 50, 100],\r\n          lang: \"es\"\r\n        });\r\n      }\r\n    });\r\n    this.io.on(`orders/delete`, this.deleteO);\r\n    this.getOrders();\r\n    this.getMenus();\r\n  },\r\n  methods: {\r\n    changeTheme() {\r\n      this.setTheme(this.theme === \"false\" ? true : false);\r\n    },\r\n    adios() {\r\n      logout();\r\n      this.$router.push({ name: \"login\" });\r\n    },\r\n    ...mapMutations(\"orders\", {\r\n      addO: \"ADD_CHEF\",\r\n      setOrder: \"SET\",\r\n      setDone: \"SET_DONE_CHEF\",\r\n      updateO: \"UPDATE_CHEF\",\r\n      deleteO: \"REMOVE_CHEF\"\r\n    }),\r\n    ...mapMutations(\"menus\", {\r\n      addM: \"ADD\",\r\n      updateM: \"UPDATE\",\r\n      deleteM: \"REMOVE\"\r\n    }),\r\n    ...mapActions(\"menus\", {\r\n      getMenus: \"getForce\"\r\n    }),\r\n    ...mapActions(\"orders\", {\r\n      getOrders: \"getInProcessChef\"\r\n    }),\r\n    ...mapMutations({\r\n      setTheme: \"SET_THEME\"\r\n    })\r\n  },\r\n  filters: {\r\n    nameMenu(value, ...args) {\r\n      if (!value) return \"\";\r\n      const menu = args[0].find(m => m._id === value);\r\n      return menu && menu.name ? menu.name : \"\";\r\n    },\r\n    orderByUpdated(values) {\r\n      return [...values];\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chefs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chefs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Chefs.vue?vue&type=template&id=4e13c236&scoped=true&\"\nimport script from \"./Chefs.vue?vue&type=script&lang=js&\"\nexport * from \"./Chefs.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4e13c236\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListTile } from 'vuetify/lib/components/VList';\nimport { VListTileTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardTitle,VChip,VContainer,VFlex,VIcon,VLayout,VList,VListTile,VListTileTitle,VMenu,VSpacer,VToolbar,VToolbarTitle})\n"],"sourceRoot":""}